import Box from 'components/Box'

export const metadata = {
    title: 'Keybinds',
    description: 'Wanna add a dance button or something?',
}

# Custom Keybinds

<Box>

Keybinds are important. They're the things that let you actually play the game.
Kristal has a lot of bindings, from player movement to debug features.

However, what if you wanted to add your own keybind? Like, say, a dance button?

</Box>

<Box>
## Registering a Keybind

To register a keybind, you must create a `keybinds` section in your mod's (or library's) `mod.json`/`lib.json`,
and populate it with the keys you'd like to have in your mod/library.

For example, this is a dancing keybind:

```json
{
    "keybinds": [
        {
            "name": "Dance",
            "id": "dance",
            "keys": ["a"],
            "gamepad": ["gamepad:leftshoulder"]
        }
    ]
}
```

It should look something like this:

![](/wiki/dance_bind.png)

</Box>

<Box>
## Using the Keybind

Using the new custom keybind is like using any other keybind in Kristal.

You can use the `Input` class to check if the keybind is pressed:

```lua
if Input:down("dance") then
    Game.world.player:setAnimation("dancing")
end
```

Or if you're using a callback, check if the pressed key is the dance key:

```lua
function Mod:onKeyPressed(key)
    if Input.is("dance", key) then
        Game.world.player:setAnimation("dancing")
    end
end
```

</Box>